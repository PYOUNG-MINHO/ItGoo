<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.itcia.itgoo.dao.IActivityDao">
	
<insert id="regiActivity" parameterType="Activity">
	insert into activity values(#{activitynum.nextval}, #{activityname},#{activityexplanation},#{activitydate},#{activitystart},#{activitytime},#{activitydogcnt},#{companyid})
	</insert>
	<insert id="regiActivityPic" parameterType="Activity">
	insert into activitypics values(#{activitypic},#{activitynum})
	 
	</insert>
	<select id="activityMyInfo1" parameterType="Company" resultType="Company">
	select * from company where companyid=#{companyid} and companykind=1
	</select>
	<update id="updatecompanyname"  parameterType="Company" >
	update company set companyname=#{companyname} where companyid=#{companyid} and companykind=1
	</update>
	<update id="updatecompanyboss" parameterType="Company">
	update company set companyboss=#{companyboss} where companyid=#{companyid} and companykind=1
	</update>
	<update id="updatecompanyphone" parameterType="Company">
	update company set companyphone=#{companyphone} where companyid=#{companyid} and companykind=1
	</update>
	<update id="updatecompanyemail" parameterType="Company">
	update company set companyemail=#{companyemail} where companyid=#{companyid} and companykind=1
	</update>
	<update id="updatecompanylocation" parameterType="Company">
	update company set companylocation=#{companylocation} where companyid=#{companyid} and companykind=1
	</update>
	<select id="activityDelete" parameterType="Activity" resultType="Activity" >
	select c.companyname,a.activitynum,a.activityname, a.activitydate, a.activitystart,a.activitytime, a.activitydogcnt from company c, activity a  where c.companyid=a.companyid
	</select>
	<select id="deleteDetail" parameterType="int" resultType="Activity">
	select at.activitynum,ap.activitypic,at.activityname,at.activityprice, at.activitydate, at.activitystart from activity at, activitypics ap where at.activitynum=ap.activitynum and ap.activitynum=#{activitynum}
	</select>
</mapper>